{"version":3,"sources":["_projects.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"_projects.js","sourcesContent":["$(document).ready(function() {\n    // USERS FORM VALIDATE\n    $(\"#form-add-project\").validate({\n        submitHandler: function(form) {\n            $(\".btn-send-form\").attr(\"disabled\", true);\n            form.submit();\n        },\n        rules: {\n            nombre_proyecto: {\n                required: true,\n            },\n            descripcion: {\n                required: true,\n            },\n            linea_accion: {\n                required: true,\n            },\n            fundamentacion: {\n                required: true,\n            },\n            proposito: {\n                required: true,\n            },\n            competencia: {\n                required: true,\n            },\n            metodologia: {\n                required: true,\n            },\n            'recursos[]': {\n                required: true\n            },\n            'referencias[]': {\n                required: true\n            },\n        }\n    })\n\n\n\n    // FUNCIONES AÑADIR RECURSOS, REFERENCIAS, ACTIVIDADES\n    $(\"#btn_arc\").on('click', function() {\n        var el = $($(\".recurso-element\")[0]).clone();\n        var btn_remove = '<div class=\"row recurso-element-cloned\">'\n        + '<div class=\"col-xs-12\">'\n        + '<button type=\"button\" class=\"close btn-remove-recurso\"><i class=\"fa fa-remove\"></i></button>'\n        + '</div>'\n        + '</div>';\n        $(btn_remove).prependTo(el);\n        el.find(\"input\").val(\"\");\n        var count = $(\".recurso-element\").find('.recurso').length;\n        el.find(\"input\").attr(\"id\", \"recurso_\" + (count + 1));\n        el.find('.error').attr({\n            \"id\": \"recurso_\" + (count + 1) + \"-error\",\n            \"for\": \"recurso_\" + (count + 1)\n        })\n\n        $(el).appendTo(\".box-recurso-element\");\n\n        // Action remove\n        $(\".btn-remove-recurso\").off('click').on('click', function(e) {\n            $(this).parents(\"div.recurso-element\").remove();\n        })\n        // Add validate\n        var phones = $(\".recurso\");\n        $.each(phones, function(x, input) {\n            $(input).rules('add', {\n                required: true,\n                \n            })\n        })\n    })\n    \n    $(\"#btn_aac\").on('click', function() {\n        var el = $($(\".actividad-element\")[0]).clone();\n        var btn_remove = '<div class=\"row actividad-element-cloned\">'\n        + '<div class=\"col-xs-12\">'\n        + '<button type=\"button\" class=\"close btn-remove-actividad\"><i class=\"fa fa-remove\"></i></button>'\n        + '</div>'\n        + '</div>';\n        $(btn_remove).prependTo(el);\n        el.find(\"input\").val(\"\");\n        var count = $(\".actividad-element\").find('.actividad').length;\n        el.find(\"input\").attr(\"id\", \"actividad_\" + (count + 1));\n        el.find('.error').attr({\n            \"id\": \"actividad_\" + (count + 1) + \"-error\",\n            \"for\": \"actividad_\" + (count + 1)\n        })\n\n        $(el).appendTo(\".box-actividad-element\");\n\n        // Action remove\n        $(\".btn-remove-actividad\").off('click').on('click', function(e) {\n            $(this).parents(\"div.actividad-element\").remove();\n        })\n        // Add validate\n        var phones = $(\".actividad\");\n        $.each(phones, function(x, input) {\n            $(input).rules('add', {\n                required: true,\n                \n            })\n        })\n    })\n    \n    $(\"#btn_arf\").on('click', function() {\n        var el = $($(\".referencia-element\")[0]).clone();\n        var btn_remove = '<div class=\"row referencia-element-cloned\">'\n        + '<div class=\"col-xs-12\">'\n        + '<button type=\"button\" class=\"close btn-remove-referencia\"><i class=\"fa fa-remove\"></i></button>'\n        + '</div>'\n        + '</div>';\n        $(btn_remove).prependTo(el);\n        el.find(\"input\").val(\"\");\n        var count = $(\".referencia-element\").find('.referencia').length;\n        el.find(\"input\").attr(\"id\", \"referencia_\" + (count + 1));\n        el.find('.error').attr({\n            \"id\": \"referencia_\" + (count + 1) + \"-error\",\n            \"for\": \"referencia_\" + (count + 1)\n        })\n\n        $(el).appendTo(\".box-referencia-element\");\n\n        // Action remove\n        $(\".btn-remove-referencia\").off('click').on('click', function(e) {\n            $(this).parents(\"div.referencia-element\").remove();\n        })\n        // Add validate\n        var phones = $(\".referencia\");\n        $.each(phones, function(x, input) {\n            $(input).rules('add', {\n                required: true,\n                \n            })\n        })\n    })\n\n    $(\"#especialidad\").select2({\n        placeholder: 'Seleccione...',\n        minimumResultsForSearch: 'Infinity'\n    });\n\n    $(\"#autor\").select2({\n        placeholder: 'Seleccione...'\n    });\n\n    // // ./CKEDITOR\n    CKEDITOR.replace('descripcion', {\n        customConfig: '/assets/js/customs/ckeditor_add_project_config.js'\n    });\n\n    CKEDITOR.instances.descripcion.on( 'fileUploadRequest', function( evt ) {\n        var fileLoader = evt.data.fileLoader,\n        formData = new FormData(),\n        xhr = fileLoader.xhr;\n\n        xhr.open( 'POST', fileLoader.uploadUrl, true );\n        xhr.setRequestHeader( 'X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content') );\n        xhr.withCredentials = true;\n        formData.append( 'upload', fileLoader.file, fileLoader.fileName );\n        fileLoader.xhr.send( formData );\n\n        // Prevented the default behavior.\n        evt.stop();\n    });\n\n    // CKEDITOR LINEA ACCIÓN\n    CKEDITOR.replace('linea_accion', {\n        customConfig: '/assets/js/customs/ckeditor_add_project_config.js'\n    });\n\n    CKEDITOR.instances.linea_accion.on('fileUploadRequest', function (evt) {\n        var fileLoader = evt.data.fileLoader,\n            formData = new FormData(),\n            xhr = fileLoader.xhr;\n\n        xhr.open('POST', fileLoader.uploadUrl, true);\n        xhr.setRequestHeader('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'));\n        xhr.withCredentials = true;\n        formData.append('upload', fileLoader.file, fileLoader.fileName);\n        fileLoader.xhr.send(formData);\n\n        // Prevented the default behavior.\n        evt.stop();\n    });\n\n    // CKEDITOR FUNDAMENTACIÓN\n    CKEDITOR.replace('fundamentacion', {\n        customConfig: '/assets/js/customs/ckeditor_add_project_config.js'\n    });\n\n    CKEDITOR.instances.fundamentacion.on('fileUploadRequest', function (evt) {\n        var fileLoader = evt.data.fileLoader,\n            formData = new FormData(),\n            xhr = fileLoader.xhr;\n\n        xhr.open('POST', fileLoader.uploadUrl, true);\n        xhr.setRequestHeader('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'));\n        xhr.withCredentials = true;\n        formData.append('upload', fileLoader.file, fileLoader.fileName);\n        fileLoader.xhr.send(formData);\n\n        // Prevented the default behavior.\n        evt.stop();\n    });\n\n    // CKEDITOR PROPÓSITO\n    CKEDITOR.replace('proposito', {\n        customConfig: '/assets/js/customs/ckeditor_add_project_config.js'\n    });\n\n    CKEDITOR.instances.proposito.on('fileUploadRequest', function (evt) {\n        var fileLoader = evt.data.fileLoader,\n            formData = new FormData(),\n            xhr = fileLoader.xhr;\n\n        xhr.open('POST', fileLoader.uploadUrl, true);\n        xhr.setRequestHeader('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'));\n        xhr.withCredentials = true;\n        formData.append('upload', fileLoader.file, fileLoader.fileName);\n        fileLoader.xhr.send(formData);\n\n        // Prevented the default behavior.\n        evt.stop();\n    });\n\n    // CKEDITOR COMPETENCIA\n    CKEDITOR.replace('competencia', {\n        customConfig: '/assets/js/customs/ckeditor_add_project_config.js'\n    });\n\n    CKEDITOR.instances.competencia.on('fileUploadRequest', function (evt) {\n        var fileLoader = evt.data.fileLoader,\n            formData = new FormData(),\n            xhr = fileLoader.xhr;\n\n        xhr.open('POST', fileLoader.uploadUrl, true);\n        xhr.setRequestHeader('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'));\n        xhr.withCredentials = true;\n        formData.append('upload', fileLoader.file, fileLoader.fileName);\n        fileLoader.xhr.send(formData);\n\n        // Prevented the default behavior.\n        evt.stop();\n    });\n\n    // CKEDITOR METODOLOGÍA\n    CKEDITOR.replace('metodologia', {\n        customConfig: '/assets/js/customs/ckeditor_add_project_config.js'\n    });\n\n    CKEDITOR.instances.metodologia.on('fileUploadRequest', function (evt) {\n        var fileLoader = evt.data.fileLoader,\n            formData = new FormData(),\n            xhr = fileLoader.xhr;\n\n        xhr.open('POST', fileLoader.uploadUrl, true);\n        xhr.setRequestHeader('X-CSRF-TOKEN', $('meta[name=\"csrf-token\"]').attr('content'));\n        xhr.withCredentials = true;\n        formData.append('upload', fileLoader.file, fileLoader.fileName);\n        fileLoader.xhr.send(formData);\n\n        // Prevented the default behavior.\n        evt.stop();\n    });\n\n\n    // Activate link\n    var url = $(\"#url-active\").data(\"url-active\");\n    global.url_active(url);\n})"]}